import{r as h,s as D,b as $,G,o as i,e as d,f as o,q as l,u as v,x as N,y as A,j as E,g as k,H as F,V as w,i as V,I as M,F as B,v as R,t as x}from"./index-408dbe05.js";import{u as I,S as q}from"./HostingView-1f4c3c11.js";import{u as T}from"./useHostingsServices-f85f75b1.js";import{u as L}from"./useQuery-a2b4158a.js";import{u as z,V as P}from"./VelocityInput-f4bbeb98.js";import{V as H}from"./VelocityButton-913261d8.js";import{V as Q}from"./VelocityDropdown-429a45d6.js";import"./api-cdcef346.js";const J=h(!1),K=h(!1),O=()=>{const s=I(),{currentStep:p,getHostings:y,idForEdit:g,selectedHost:f}=D(s),{getHosting:c,deleteHostin:n}=T(),{isFetching:a,refetch:r}=L(["get-Hostings"],c,{onSuccess:e=>{s.setHostings(e),console.log(e)},onError:e=>{console.log(e)}}),u=z(["spinner"],n,{onSuccess:e=>{console.log(e),r()},onError:e=>{console.log(e)}});return{currentStep:p,getHostings:y,deleteHostingMutation:u,isLoading:a,editHosting:e=>{g.value=e.id,p.value=q.stepCreateHosting},showModalDomain:J,showModalTicket:K,selectedHost:f}},W=O,U=s=>(N("data-v-b58f443a"),s=s(),A(),s),X={class:"container-modal-domain"},Y=U(()=>o("h3",{class:"vel-text-semibold m-t-10"},"Solicita tu dominio aqui",-1)),Z=U(()=>o("p",{class:"vel-text-small m-t-20"}," Recuerda, nosotros no podemos darte un dominio pero si podemos conectar tu solciitud con nuestros aliados ... ",-1)),oo=$({__name:"ModalDomainComponent",emits:["close"],setup(s,{emit:p}){const y=I(),{selectedHost:g}=D(y),{getDomainCompany:f,sendDomainCompany:c}=T(),n=h(""),a=h(0),r=h(),u=G(()=>r.value),t=p;L(["get-Companys"],f,{onSuccess:m=>{console.log(m),r.value=m},onError:m=>{console.log(m)}});const e=z(["spinner"],c,{onSuccess:m=>{console.log(m),t("close")},onError:m=>{console.log(m),t("close")}}),C=()=>{e.mutate({host_id:g.value,domain_distribuitor_id:a.value,domain:n.value,state:"pendiente"})};return(m,_)=>(i(),d("div",X,[o("i",{class:"icon-icon-close icon",onClick:_[0]||(_[0]=S=>t("close"))}),Y,Z,l(P,{class:"m-b-22 m-t-22",id:"domain-name",placeHolder:"Nombre del dominio",modelValue:n.value,"onUpdate:modelValue":_[1]||(_[1]=S=>n.value=S)},null,8,["modelValue"]),l(Q,{list:v(u),placeholder:"CompaÃ±ia Distribuidora",property:"name",onResult:_[2]||(_[2]=S=>{a.value=S.id})},null,8,["list"]),l(H,{classesName:"btn btn-primary m-t-22",size:"large",text:"Solcitar",type:"button",disabled:n.value===""||a.value===0,onActionButton:_[3]||(_[3]=()=>C())},null,8,["disabled"])]))}});const eo=E(oo,[["__scopeId","data-v-b58f443a"]]),j=s=>(N("data-v-1af6e3d5"),s=s(),A(),s),to={class:"container-modal-domain"},so=j(()=>o("h3",{class:"vel-text-semibold m-t-10"},"Cuentanos tu problema",-1)),no=j(()=>o("p",{class:"vel-text-small m-t-20"}," Describe tu problema y al instante nuestros administradores lo arreglaran ",-1)),io=$({__name:"ModalTicketComponent",emits:["close"],setup(s,{emit:p}){const y=I(),{selectedHost:g}=D(y),{sendTicket:f}=T(),c=h(""),n=p,a=z(["spinner"],f,{onSuccess:u=>{console.log(u),n("close")},onError:u=>{console.log(u),n("close")}}),r=()=>{a.mutate({host_id:g.value,problem:c.value,status:"pendiente"})};return(u,t)=>(i(),d("div",to,[o("i",{class:"icon-icon-close icon",onClick:t[0]||(t[0]=e=>n("close"))}),so,no,l(P,{class:"m-b-22 m-t-22",id:"domain-name",placeHolder:"Descripcion",modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e)},null,8,["modelValue"]),l(H,{classesName:"btn btn-primary m-t-22",size:"large",text:"Enviar",type:"button",disabled:c.value==="",onActionButton:t[2]||(t[2]=()=>r())},null,8,["disabled"])]))}});const lo=E(io,[["__scopeId","data-v-1af6e3d5"]]),b=s=>(N("data-v-3bfec305"),s=s(),A(),s),ao={key:3,class:"container_hostings"},co={class:"title m-b-20 fade-in-down"},ro=b(()=>o("h2",{class:"vel-text-semibold"},"Hostings",-1)),uo=b(()=>o("hr",{class:"m-b-20"},null,-1)),mo={class:"container_cards"},po={class:"card-header"},_o={class:"vel-text-semibold"},vo={class:"container-buttons fade-in-left"},bo=b(()=>o("div",{class:"card-line"},null,-1)),yo={class:"card-body"},go={class:"body-info"},fo={class:"w-50"},xo=b(()=>o("p",{class:"vel-text-semibold"},"Chibcha Plan:",-1)),Ho=b(()=>o("p",{class:"vel-text-semibold"},"Sistema operativo:",-1)),ho={class:""},Co={class:"w-50"},So=b(()=>o("p",{class:"vel-text-semibold"},"Modo de pago:",-1)),Vo={class:""},ko=b(()=>o("p",{class:"vel-text-semibold"},"Descripcion:",-1)),wo={class:""},Mo={key:0,class:"m-t-8 m-b-8"},Bo={key:1},Do=b(()=>o("p",{class:"vel-text-semibold vel-text-subtitle"},"Dominios",-1)),$o=$({__name:"ViewHostingComponent",setup(s){const{getHostings:p,currentStep:y,deleteHostingMutation:g,isLoading:f,editHosting:c,showModalDomain:n,showModalTicket:a,selectedHost:r}=W();return(u,t)=>(i(),d(B,null,[v(a)?(i(),k(w,{key:0,type:"custom"},{component:F(()=>[l(lo,{onClose:t[0]||(t[0]=()=>{a.value=!1})})]),_:1})):V("",!0),M("> "),v(n)?(i(),k(w,{key:1,type:"custom"},{component:F(()=>[l(eo,{onClose:t[1]||(t[1]=()=>{n.value=!1})})]),_:1})):V("",!0),M("> "),v(f)?(i(),k(w,{key:2,type:"spinner"})):(i(),d("div",ao,[o("div",co,[ro,l(H,{icon:"icon-icon-more",classesName:"btn btn-primary m-t-18",size:"large",text:"Solicitar Hosting",type:"button",onActionButton:t[2]||(t[2]=()=>y.value=v(q).stepCreateHosting)})]),uo,o("div",mo,[(i(!0),d(B,null,R(v(p),e=>(i(),d("div",{class:"card m-b-20 fade-in-left",key:e.id},[o("div",po,[o("p",_o,[M(x(e.name)+" - ",1),o("span",null,x(e.ip),1)]),o("div",vo,[l(H,{icon:"icon-icon-add-products",classesName:"btn btn-secundary",size:"small",text:"Crear ticket de soporte",type:"button",onActionButton:()=>{r.value=e.id,a.value=!0}},null,8,["onActionButton"]),l(H,{icon:"icon-icon-vibot",classesName:"btn btn-secundary",size:"small",text:"Solicitar Dominio",type:"button",onActionButton:()=>{r.value=e.id,n.value=!0}},null,8,["onActionButton"]),l(H,{icon:"icon-icon-edit",classesName:"btn btn-secundary",size:"small",text:"Editar",type:"button",onActionButton:()=>v(c)(e)},null,8,["onActionButton"]),l(H,{icon:"icon-icon-delete",classesName:"btn btn-third ",size:"small",text:"Eliminar",type:"button",onActionButton:()=>v(g).mutate(e.id)},null,8,["onActionButton"])])]),bo,o("div",yo,[o("div",go,[o("div",fo,[o("div",null,[xo,o("p",null,x(e.plan_name),1)]),o("div",null,[Ho,o("p",ho,x(e.os_name),1)])]),o("div",Co,[o("div",null,[So,o("p",Vo,x(e.payment_name),1)]),o("div",null,[ko,o("p",wo,x(e.description),1)])])]),e.domains.length>0?(i(),d("hr",Mo)):V("",!0),e.domains.length>0?(i(),d("div",Bo,[Do,o("div",null,[(i(!0),d(B,null,R(e.domains,C=>(i(),d("p",{key:C.id},x(C.domain),1))),128))])])):V("",!0)])]))),128))])]))],64))}});const qo=E($o,[["__scopeId","data-v-3bfec305"]]);export{qo as default};
